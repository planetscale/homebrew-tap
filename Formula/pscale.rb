# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Pscale < Formula
  desc "The PlanetScale CLI"
  homepage "https://planetscale.com/"
  version "0.253.0"
  license "Apache 2.0"

  depends_on "mysql" => :optional

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/planetscale/cli/releases/download/v0.253.0/pscale_0.253.0_macOS_amd64.tar.gz"
      sha256 "ca636f261be7bcbc0bc760c3de252404712a98ff7c2d24d28a92bb1585486b0d"

      def install
        bin.install "pscale"
        bash_completion.install "completions/pscale.bash" => "pscale"
        zsh_completion.install "completions/pscale.zsh" => "_pscale"
        fish_completion.install "completions/pscale.fish"
      end
    end
    if Hardware::CPU.arm?
      url "https://github.com/planetscale/cli/releases/download/v0.253.0/pscale_0.253.0_macOS_arm64.tar.gz"
      sha256 "d192301d24a017940251ba2081e77583928a40d941d5338b082d0bb9edffe804"

      def install
        bin.install "pscale"
        bash_completion.install "completions/pscale.bash" => "pscale"
        zsh_completion.install "completions/pscale.zsh" => "_pscale"
        fish_completion.install "completions/pscale.fish"
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel? and Hardware::CPU.is_64_bit?
      url "https://github.com/planetscale/cli/releases/download/v0.253.0/pscale_0.253.0_linux_amd64.tar.gz"
      sha256 "f23ff304a9923d867aa8f78691647a38b9130c1994d26b3385302658a40805e7"
      def install
        bin.install "pscale"
        bash_completion.install "completions/pscale.bash" => "pscale"
        zsh_completion.install "completions/pscale.zsh" => "_pscale"
        fish_completion.install "completions/pscale.fish"
      end
    end
    if Hardware::CPU.arm? and !Hardware::CPU.is_64_bit?
      url "https://github.com/planetscale/cli/releases/download/v0.253.0/pscale_0.253.0_linux_arm.tar.gz"
      sha256 "83a11a117a4b917a1dd52c5b65c260269b761c064e049bc5a2f0777ad0d0e405"
      def install
        bin.install "pscale"
        bash_completion.install "completions/pscale.bash" => "pscale"
        zsh_completion.install "completions/pscale.zsh" => "_pscale"
        fish_completion.install "completions/pscale.fish"
      end
    end
    if Hardware::CPU.arm? and Hardware::CPU.is_64_bit?
      url "https://github.com/planetscale/cli/releases/download/v0.253.0/pscale_0.253.0_linux_arm64.tar.gz"
      sha256 "696c8ae199ae5c37a039774ba6e7f189a69af02cd3d456e76458f0034d3d0482"
      def install
        bin.install "pscale"
        bash_completion.install "completions/pscale.bash" => "pscale"
        zsh_completion.install "completions/pscale.zsh" => "_pscale"
        fish_completion.install "completions/pscale.fish"
      end
    end
  end

  test do
    system "#{bin}/pscale --version"
  end
end

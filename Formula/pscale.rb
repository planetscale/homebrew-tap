# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Pscale < Formula
  desc "The PlanetScale CLI"
  homepage "https://planetscale.com/"
  version "0.254.0"
  license "Apache 2.0"

  depends_on "mysql" => :optional

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/planetscale/cli/releases/download/v0.254.0/pscale_0.254.0_macOS_amd64.tar.gz"
      sha256 "fa60c9d9cff2436579b2882039e78b3d0db6764be3642669b5b24119940562f6"

      def install
        bin.install "pscale"
        bash_completion.install "completions/pscale.bash" => "pscale"
        zsh_completion.install "completions/pscale.zsh" => "_pscale"
        fish_completion.install "completions/pscale.fish"
      end
    end
    if Hardware::CPU.arm?
      url "https://github.com/planetscale/cli/releases/download/v0.254.0/pscale_0.254.0_macOS_arm64.tar.gz"
      sha256 "201829d0e8250893cf451106a3a9f26ff2768e6e60dd623c5ef0054e124c43bf"

      def install
        bin.install "pscale"
        bash_completion.install "completions/pscale.bash" => "pscale"
        zsh_completion.install "completions/pscale.zsh" => "_pscale"
        fish_completion.install "completions/pscale.fish"
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel? and Hardware::CPU.is_64_bit?
      url "https://github.com/planetscale/cli/releases/download/v0.254.0/pscale_0.254.0_linux_amd64.tar.gz"
      sha256 "4a8acc39c9704c3025d0406a4e1ed2d4add69a0b7801d6e57ed074396bb53558"
      def install
        bin.install "pscale"
        bash_completion.install "completions/pscale.bash" => "pscale"
        zsh_completion.install "completions/pscale.zsh" => "_pscale"
        fish_completion.install "completions/pscale.fish"
      end
    end
    if Hardware::CPU.arm? and !Hardware::CPU.is_64_bit?
      url "https://github.com/planetscale/cli/releases/download/v0.254.0/pscale_0.254.0_linux_arm.tar.gz"
      sha256 "6f0f2ba24887b5e30735fd9ac07f0fbf5cf717f3130c1970aad0829c4a489a46"
      def install
        bin.install "pscale"
        bash_completion.install "completions/pscale.bash" => "pscale"
        zsh_completion.install "completions/pscale.zsh" => "_pscale"
        fish_completion.install "completions/pscale.fish"
      end
    end
    if Hardware::CPU.arm? and Hardware::CPU.is_64_bit?
      url "https://github.com/planetscale/cli/releases/download/v0.254.0/pscale_0.254.0_linux_arm64.tar.gz"
      sha256 "4d78fb4faefff404f2e3b3d6d4a0ca0bc060f03c95ab3c2b3a2309bf8ec74d64"
      def install
        bin.install "pscale"
        bash_completion.install "completions/pscale.bash" => "pscale"
        zsh_completion.install "completions/pscale.zsh" => "_pscale"
        fish_completion.install "completions/pscale.fish"
      end
    end
  end

  test do
    system "#{bin}/pscale --version"
  end
end

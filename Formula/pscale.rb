# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Pscale < Formula
  desc "The PlanetScale CLI"
  homepage "https://planetscale.com/"
  version "0.115.0"
  license "Apache 2.0"

  on_macos do
    if Hardware::CPU.arm?
      url "https://github.com/planetscale/cli/releases/download/v0.115.0/pscale_0.115.0_macOS_arm64.tar.gz"
      sha256 "b12d7c7cdee6b2b8682983a70fa41b679d02a3434d5f58f1c89d90e277a9eb85"

      def install
        bin.install "pscale"
        bash_completion.install "completions/pscale.bash" => "pscale"
        zsh_completion.install "completions/pscale.zsh" => "_pscale"
        fish_completion.install "completions/pscale.fish"
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/planetscale/cli/releases/download/v0.115.0/pscale_0.115.0_macOS_amd64.tar.gz"
      sha256 "a0c6ada89f934cd1a4723a79bf559ac75e6fb9281c9988367b6ec422d69b8e9b"

      def install
        bin.install "pscale"
        bash_completion.install "completions/pscale.bash" => "pscale"
        zsh_completion.install "completions/pscale.zsh" => "_pscale"
        fish_completion.install "completions/pscale.fish"
      end
    end
  end

  on_linux do
    if Hardware::CPU.arm? && !Hardware::CPU.is_64_bit?
      url "https://github.com/planetscale/cli/releases/download/v0.115.0/pscale_0.115.0_linux_armv6.tar.gz"
      sha256 "425211ebb7069eaedc609ad299909e63efa4cab41cd595e6e50359d649bc3764"

      def install
        bin.install "pscale"
        bash_completion.install "completions/pscale.bash" => "pscale"
        zsh_completion.install "completions/pscale.zsh" => "_pscale"
        fish_completion.install "completions/pscale.fish"
      end
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/planetscale/cli/releases/download/v0.115.0/pscale_0.115.0_linux_arm64.tar.gz"
      sha256 "8ff20c61a99ee43bac3190cb74c559679ba397f6ae6ea418e21293e6e8aa6447"

      def install
        bin.install "pscale"
        bash_completion.install "completions/pscale.bash" => "pscale"
        zsh_completion.install "completions/pscale.zsh" => "_pscale"
        fish_completion.install "completions/pscale.fish"
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/planetscale/cli/releases/download/v0.115.0/pscale_0.115.0_linux_amd64.tar.gz"
      sha256 "7c4bade11f9a645793575e57a9f7d38c15b2ada063c79c669fe1a637d334c32f"

      def install
        bin.install "pscale"
        bash_completion.install "completions/pscale.bash" => "pscale"
        zsh_completion.install "completions/pscale.zsh" => "_pscale"
        fish_completion.install "completions/pscale.fish"
      end
    end
  end

  depends_on "mysql" => :optional

  test do
    system "#{bin}/pscale --version"
  end
end
